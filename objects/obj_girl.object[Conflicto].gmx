<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_girl_idle</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>1</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Obligatory Variables
isfloor = 0
collisionable = 0
wall = 0
pushable = 0
button = 0

//horizontal params
horacc = 1
maxhorspeed = 6.5

//Necesary declarations
dcollisionbottom = noone

hmovement = 0

instair = 0
stairpos = 0
place = 1

action = 1

escmenu = 0
//Create things
instance_create(x,y,obj_cursor)
instance_create(0, 0, gui_info)
instance_create(0, 0, gui_dialogue)
instance_create(0, 0, obj_inventory)
instance_create(x,y, obj_viewfocus)
instance_create(x,y, obj_view)
instance_create(0,0,obj_sound)
instance_create(0,0,obj_timer)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>action = 0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//Acting according action
switch (action)
{
case 0:
    //Horizontal movement
    hmovement = (keyboard_check_direct(ord('A')) or keyboard_check_direct(ord('D')))
    if keyboard_check_direct(ord('A')) &amp;&amp; keyboard_check_direct(ord('D'))
        hmovement = 0
    
    if hmovement == 1
    {
    //on push A
    if keyboard_check_direct(ord('A'))
    {
        image_speed = 0.2
        sprite_index = spr_girl_run
        image_xscale = -1
        //if is in stair, move along path assigned, 
        if instair = 1
        {
            x = path_get_x(stair, stairpos)
            y = path_get_y(stair,stairpos)
            stairpos -= 0.01 * stairsense
            //and leave if complete
            if stairpos &lt; 0 or stairpos &gt; 1
            {
                obj_girl.depth = 1
                instair = 0
                stairpos = 0
                if y &gt; 500
                place = 1
                else
                place = 2
            }
        }
        //Hor speed increase
        else
        {
            hspeed -= horacc
            if abs(hspeed) &gt;= maxhorspeed hspeed = -maxhorspeed
        }
    }
    //on push D
    if keyboard_check_direct(ord('D'))
    {
        image_speed = 0.2
        sprite_index = spr_girl_run
        image_xscale = 1
        //if is in stair, move along path assigned, 
        if instair = 1
        {
            x = path_get_x(stair, stairpos)
            y = path_get_y(stair,stairpos)
            stairpos += 0.01 * stairsense
            //and leave if complete
            if stairpos &lt; 0 or stairpos &gt; 1
            {
                obj_girl.depth = 1
                instair = 0
                stairpos = 0
                if y &gt; 500
                place = 1
                else
                place = 2
            }
        }
        //Hor speed increase
        else
        {
            hspeed += horacc
            if abs(hspeed) &gt;= maxhorspeed hspeed = maxhorspeed
        }
    }
    }
    //Hor speed decay
    if hmovement = 0
    {
        sprite_index = spr_girl_idle
        image_speed = 0.05
        if abs(hspeed) &gt; 1 
            hspeed -= sign(hspeed)*1.5
        else 
            hspeed = 0
    }
    //Horizontal collision check
    hcollisionleft = collision_line ( x-42+hspeed, y-32, x-42+hspeed, y+32, all, true, true)
    hcollisionright = collision_line ( x+42+hspeed, y-32, x+42+hspeed, y+32, all, true, true)
    
    if hcollisionleft != noone {hcollision = hcollisionleft}
    if hcollisionright != noone {hcollision = hcollisionright}
    
    if (hcollisionleft != noone &amp;&amp; hcollisionleft.wall = 1) or (hcollisionright != noone &amp;&amp; hcollisionright.wall = 1)
    {
        hspeed = 0
    }
    
    //Throw objects from inventory
    throwangle = point_direction(x,y,mouse_x, mouse_y)
    if mouse_check_button_pressed(mb_left) &amp;&amp; obj_cursor.combine == 0
    {
        scr_inventorythrow(obj_inventory.slot[obj_inventory.active], obj_inventory.active, throwangle)
    }
break;
//Frozen
case 1:
    sprite_index = spr_girl_idle
    image_speed = 0.05
    hspeed = 0
break;
//attacked
case 2:
    image_speed = 0.05
    sprite_index = spr_girl_attacked
    hspeed = 0
    if image_index &gt; 7
    image_speed = 0.2
    if image_index &gt; image_number -1
        {
            scr_colorcorrect(50,50,50,170,150,255,0.2)
            obj_mad.action = 9
            action = 0
        }
break;
//using gel bottle
case 3:
    sprite_index = spr_girl_idle
    image_speed = 0.05
    hspeed = 0
break;
//Paused
case 4:
{
hspeed = 0
}
break;
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="5" enumb="82">
      <action>
        <libid>1</libid>
        <id>331</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_restart_game</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if escmenu = 0
{
    escmenu = 1
    pause = instance_create(view_xview[0] + view_wview[0]/2, view_yview[0] + 150,obj_pause)
    girlspeed = obj_girl.image_speed
    obj_girl.image_speed = 0
    girlaction = obj_girl.action
    obj_girl.action = 4
    madspeed = obj_mad.image_speed
    obj_mad.image_speed = 0
    madaction = obj_mad.action
    obj_mad.action = 4
    obj_timer.timeron = 0
    oldred1 = obj_view.red1
    oldred2 = obj_view.red2  
    oldgreen1 = obj_view.green1
    oldgreen2 = obj_view.green2
    oldblue1 = obj_view.blue1
    oldblue2 = obj_view.blue2
    scr_colorcorrect(35,35,35,35,35,35,1)
}
else
{
    escmenu = 0
    with(pause)instance_destroy()
    obj_girl.action = girlaction
    obj_girl.image_speed = girlspeed
    obj_mad.image_speed = madspeed
    obj_mad.action = madaction
    obj_timer.timeron = 0
    scr_colorcorrect(oldred1,oldgreen1,oldblue1,oldred2,oldgreen2,oldblue2,1)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
